@model CarteiraDigital.Models.Pessoa

@{
    ViewData["Title"] = "Cadastrar";
}

<h1>Cadastrar</h1>
<h4>Pessoa</h4>
<hr />
<div class="row">
    <div class="col-md">
        <form asp-action="Cadastrar" novalidate>
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Nome" class="control-label">Nome</label>
                <input asp-for="Nome" class="form-control" data-span-id="span-nome" id="nome" placeholder="Ex: Aquiles Moroni" />
                <span asp-validation-for="Nome" class="text-danger" id="erro-nome"></span>
            </div>
            <div class="form-group">
                <label asp-for="Email" class="control-label">E-mail</label>
                <input asp-for="Email" class="form-control" data-span-id="span-email" id="email" placeholder="Ex: aquilesmoroni@hotmail.com" />
                <span asp-validation-for="Email" class="text-danger" id="erro-email"></span>
            </div>
            <div class="form-group">
                <label asp-for="Minimo" class="control-label">Mínimo</label>
                <input asp-for="Minimo" type="number" class="form-control" data-span-id="span-minimo" id="minimo" placeholder="Ex: 50,00" oninput="limitarTamanho(this, 30)" />
                <span asp-validation-for="Minimo" class="text-danger" id="erro-minimo"></span>
            </div>
            <div class="form-group">
                <label asp-for="Senha" class="control-label">Senha</label>
                <input asp-for="Senha" type="password" class="form-control" data-span-id="span-senha" id="senha" placeholder="Ex: #$jY5489_" oninput="limitarTamanho(this, 30)" />
                <span asp-validation-for="Senha" class="text-danger" id="erro-senha"></span>
            </div>
            <div class="form-group form-check p-0 mt-3 mb-0">
                <div class="form-check form-check-inline">
                    <input asp-for="Cargo" class="form-check-input" value="1" type="radio" id="administrador">
                    <label asp-for="Cargo" class="form-check-label" for="inlineRadio1">Administrador</label> 
                </div>
                <div class="form-check form-check-inline">
                    <input asp-for="Cargo" class="form-check-input" value="2" type="radio" id="cliente">
                    <label asp-for="Cargo" class="form-check-label" for="inlineRadio2">Cliente</label>
                </div>
            </div>
            <span asp-validation-for="Cargo" class="text-danger" id="erro-cargo"></span>
            <div class="form-group">
                <input type="submit" value="Cadastrar" class="btn btn-dark mt-3" id="btn_criaCargo"/>
                @Html.Raw(ViewBag.Script)
                <a asp-action="Index" class="btn btn-light mt-3 ml-3">Voltar</a>
            </div>
        </form>
    </div>
</div> 

<script>
    document.getElementById('nome').addEventListener('input', limparAlertaNome);
    document.getElementById('email').addEventListener('input', limparAlertaEmail);
    document.getElementById('minimo').addEventListener('input', limparAlertaMinimo);
    document.getElementById('senha').addEventListener('input', limparAlertaSenha);
    document.getElementById('administrador').checked = false;
    document.getElementById('cliente').checked = false;
    document.getElementById('administrador').addEventListener('input', LimparAlertaCargo);
    document.getElementById('cliente').addEventListener('input', LimparAlertaCargo);

    function limitarTamanho(elemento, tamanhoMaximo) {
        if (elemento.value.length > tamanhoMaximo) {
            elemento.value = elemento.value.slice(0, tamanhoMaximo);
        }
    } 
    function limparAlertaNome() {
        var erroNome = document.getElementById('erro-nome');
        erroNome.textContent = '';
    }
    function limparAlertaEmail() {
        var erroEmail = document.getElementById('erro-email');
        erroEmail.textContent = '';
    }
    function limparAlertaMinimo() {
        var erroMinimo = document.getElementById('erro-minimo');
        erroMinimo.textContent = '';
    }
    function limparAlertaSenha() {
        var erroSenha = document.getElementById('erro-senha');
        erroSenha.textContent = '';
    } 
</script>