@model CarteiraDigital.Models.Pessoa

@{
    ViewData["Title"] = "Cadastrar";
}

<h1>Cadastrar</h1>
<h4>Pessoa</h4>
<hr />
<div class="row">
    <div class="col-md">
        <form asp-action="Cadastrar" novalidate>
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group">
                <label asp-for="Nome" class="control-label">Nome</label>
                <input asp-for="Nome" class="form-control" data-span-id="span-nome" id="nome" placeholder="Ex: Aquiles Moroni" />
                <span asp-validation-for="Nome" class="text-danger" id="erro-nome"></span>
            </div>
            <div class="form-group">
                <label asp-for="Email" class="control-label">E-mail</label>
                <input asp-for="Email" class="form-control" data-span-id="span-email" id="email" placeholder="Ex: aquilesmoroni@hotmail.com" />
                <span asp-validation-for="Email" class="text-danger" id="erro-email"></span>
            </div>
            <div class="form-group">
                <label asp-for="Minimo" class="control-label">Mínimo</label>
                <input asp-for="Minimo" type="number" class="form-control" data-span-id="span-minimo" id="minimo" placeholder="Ex: 50,00" oninput="limitarTamanho(this, 30)" />
                <span asp-validation-for="Minimo" class="text-danger" id="erro-minimo"></span>
            </div>
            <div class="form-group">
                <input type="submit" value="Cadastrar" class="btn btn-dark" />
                @Html.Raw(ViewBag.Script)
                <a asp-action="Index" class="btn btn-light ml-4">Voltar</a>
            </div>
        </form>
    </div>
</div> 

<script>
    document.getElementById('nome').addEventListener('input', limparAlertaNome);
    document.getElementById('email').addEventListener('input', limparAlertaEmail);
    document.getElementById('minimo').addEventListener('input', limparAlertaMinimo);

    function limitarTamanho(elemento, tamanhoMaximo) {
        if (elemento.value.length > tamanhoMaximo) {
            elemento.value = elemento.value.slice(0, tamanhoMaximo);
        }
    } 
    function limparAlertaNome() {
        var erroNome = document.getElementById('erro-nome');
        erroNome.textContent = '';
    }
    function limparAlertaEmail() {
        var erroEmail = document.getElementById('erro-email');
        erroEmail.textContent = '';
    }
    function limparAlertaMinimo() {
        var erroMinimo = document.getElementById('erro-minimo');
        erroMinimo.textContent = '';
    }
</script>